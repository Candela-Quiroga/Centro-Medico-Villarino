<!--BARRA LATERAL-->
<div class="barra-lateral">
    <div class="logo">
        <!--Icono-->
        <svg id="icono" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.25 42.13">
            <path d="M8.4,27.13c.11,0,.5-.02.67-.29,1.09-1.17,6.01-5.48,9.09-7.31-.84,1.85-1.55,4.41-1.55,5.67,0,.25,0,1.03.68,1.03.25,0,.52-.17.79-.48.03-.04,3.18-3.52,5.5-4.72,0,3.62.96,5.41,3.12,5.8l.51.04c2.83,0,7.08-3.31,10.5-5.98,1.5-1.17,2.8-2.18,3.52-2.56.32-.11.46-.37.46-.58,0-.29-.24-.5-.59-.5h0l-.23.05-.08.02c-.99.44-2.58,1.62-4.43,3-3.05,2.27-6.85,5.09-8.78,5.09-.19,0-.36-.03-.52-.09-.82-.35-1.58-1.17-1.58-4.83v-.34c0-.62-.35-.98-.94-.98-1.23,0-3.7,1.89-5.25,3.38.72-1.87,1.35-3.38,1.93-4.64l.03-.15c0-.51-.34-.85-.85-.85-1.84,0-7.19,4.4-9.12,6.05,1.34-2.06,2.92-4.12,3.96-5.33.24-.17.24-.45.24-.55,0-.52-.61-1.03-1.07-1.03-.21,0-.39.09-.57.27-2.11,2.38-5.08,7.09-6.09,9.68-.09.18-.09.34-.09.45,0,.4.31.68.73.68Z"/>
            <path d="M42,21.24c-.47,10.85-8.23,17.25-15.71,18.76-8.83,1.8-17.11-2.47-21.1-10.84-.96-2.16-1.5-4.56-1.57-6.94v-.13s-.01,0-.01,0c-.02-.2-.06-.43-.2-.54-.26-.21-.84.03-.95.07-.28.09-.58.12-.87.08-.13-.03-.77-.15-1,.07-.11.1-.13.31-.13.48h0s0,.11,0,.11c0,.07,0,.13.01.16h0c.22,2.72.97,5.42,2.18,7.83,2.44,4.69,6.12,8.18,10.63,10.11,2.57,1.1,5.38,1.66,8.21,1.66,1.67,0,3.35-.2,4.99-.59,9.48-2.28,15.67-10.25,15.76-20.3h-.25Z"/>
            <path d="M25.45,2.41c.56,0,1.02-.46,1.02-1.02s-.46-1.02-1.02-1.02-1.02.46-1.02,1.02.46,1.02,1.02,1.02Z"/>
            <circle cx="30.89" cy="3.25" r=".74"/>
            <path d="M2.28,19.14c1.26,0,2.28-1.02,2.28-2.28s-1.02-2.28-2.28-2.28-2.28,1.02-2.28,2.28,1.02,2.28,2.28,2.28Z"/>
            <circle cx="6" cy="8.86" r="1.69"/>
            <path d="M12.03,5.35c.93,0,1.68-.75,1.68-1.68s-.75-1.68-1.68-1.68-1.68.75-1.68,1.68.75,1.68,1.68,1.68Z"/>
            <path d="M18.8,2.78c.77,0,1.39-.62,1.39-1.39s-.62-1.39-1.39-1.39-1.39.62-1.39,1.39.62,1.39,1.39,1.39Z"/>
        </svg>
        <span>CM Villarino</span>
    </div>
    
    <a class="boton" href="/panelAdmin">
        <i class="fa-solid fa-house"></i>
        <span>Panel General</span>
    </a>

    <nav class="navegacion">
        <ul>
            <li>
                <a href="/usuarios">
                    <i class="fa-solid fa-user"></i>
                    <span>Usuarios</span>
                </a>
            </li>

            <li>
                <a href="/medicos">
                    <i class="fa-regular fa-user-doctor"></i>
                    <span>Médicos</span>
                </a>
            </li>

            <li>
                <a href="/pacientes">
                    <i class="fa-regular fa-hand-holding-heart"></i>
                    <span>Pacientes</span>
                </a>
            </li>
            
        </ul>
    </nav>

    <div class="linea"></div>

    <div class="modo-oscuro">
        <div class="info">
            <i class="fa-light fa-moon"></i>
            <span>Modo oscuro</span>
        </div>
        <div class="switch">
            <div class="base">
                <div class="circulo"></div>
            </div>
        </div>
    </div>

    <div class="usuario">
        <div class="contenedor-icono-usuario">
            <i class="fa-solid fa-user"></i>
        </div>
        <div class="info-usuario">
            <div class="nombre-email">
                <span class="nombre"><%= nombreUsuario %></span>
                <span class="email"><%= emailUsuario %></span>
            </div>
        </div>
    </div>

    <!-- Botón de Logout -->
    <div class="logout">
        <a href="/logout" class="boton-logout">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span>Logout</span>
        </a>
    </div>
</div>

<script>
    const icono = document.getElementById("icono");
    const barraLateral = document.querySelector(".barra-lateral");
    const spans = document.querySelectorAll("span");
    const palanca = document.querySelector(".switch");
    const circulo = document.querySelector(".circulo");

    //para trabajar con la clase .active
    // Obtener la URL actual
    const currentLocation = window.location.pathname;

    // Obtener todos los enlaces
    const navLinks = document.querySelectorAll('nav ul li a');

    navLinks.forEach(link => {
        // Comprobar si el href del enlace coincide con la URL actual
        if (link.getAttribute('href') === currentLocation || 
            (currentLocation === '/' && link.getAttribute('href') === '#')) { 
            link.classList.add('active'); // Agregar clase active al enlace actual
        }
    });

    palanca.addEventListener("click", ()=> {
        let body = document.body;
        body.classList.toggle("dark-mode");
        circulo.classList.toggle("prendido");
    });

    icono.addEventListener("click", ()=> {
        barraLateral.classList.toggle("mini-barra-lateral");
        spans.forEach((span)=> {
            span.classList.toggle("oculto");
        });
    });
</script>
